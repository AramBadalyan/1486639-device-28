const search_button=document.querySelector(".search-button"),search_field=document.querySelector(".search-field"),search_form=document.querySelector(".search");search_field.addEventListener("focus",function(){search_form.classList.add("field-focused")}),search_field.addEventListener("blur",function(){search_field.value||search_form.classList.remove("field-focused")});const catalog_link=document.querySelector(".catalog-link"),catalog_menu=document.querySelector(".catalog-menu");catalog_link.addEventListener("click",function(e){e.preventDefault(),catalog_menu.classList.toggle("reveal")});const authorizations=document.querySelectorAll(".authorization"),login_links=document.querySelectorAll(".login"),logout_links=document.querySelectorAll(".logout");for(let e of login_links)e.addEventListener("click",function(e){if(!authorizations[0].classList.contains("logged")){e.preventDefault();for(let e of authorizations)e.classList.add("logged")}});for(let e of logout_links)e.addEventListener("click",function(e){e.preventDefault();for(let e of authorizations)e.classList.remove("logged")});const slides=document.querySelectorAll(".slide"),slider_controls=document.querySelectorAll(".slider-control"),control0=document.querySelector(".control0"),control1=document.querySelector(".control1"),control2=document.querySelector(".control2");control0.addEventListener("click",function(){for(let e=0;e<slides.length;e+=1)slides[e].classList.remove("current-slide"),slider_controls[e].classList.remove("current-control");slides[0].classList.add("current-slide"),slider_controls[0].classList.add("current-control")}),control1.addEventListener("click",function(){for(let e=0;e<slides.length;e+=1)slides[e].classList.remove("current-slide"),slider_controls[e].classList.remove("current-control");slides[1].classList.add("current-slide"),slider_controls[1].classList.add("current-control")}),control2.addEventListener("click",function(){for(let e=0;e<slides.length;e+=1)slides[e].classList.remove("current-slide"),slider_controls[e].classList.remove("current-control");slides[2].classList.add("current-slide"),slider_controls[2].classList.add("current-control")});const services=document.querySelectorAll(".service"),service_buttons=document.querySelectorAll(".service-button"),delivery=document.querySelector(".button.delivery"),warranty=document.querySelector(".button.warranty"),credit=document.querySelector(".button.credit");delivery.addEventListener("click",function(){for(let e=0;e<services.length;e+=1)services[e].classList.remove("current"),service_buttons[e].classList.remove("service-activated");services[0].classList.add("current"),service_buttons[0].classList.add("service-activated")}),warranty.addEventListener("click",function(){for(let e=0;e<services.length;e+=1)services[e].classList.remove("current"),service_buttons[e].classList.remove("service-activated");services[1].classList.add("current"),service_buttons[1].classList.add("service-activated")}),credit.addEventListener("click",function(){console.log("Button warranty pressed!");for(let e=0;e<services.length;e+=1)services[e].classList.remove("current"),service_buttons[e].classList.remove("service-activated");services[2].classList.add("current"),service_buttons[2].classList.add("service-activated")});const modal_windows=document.querySelectorAll(".modal"),close_buttons=document.querySelectorAll(".close-button"),contact_popap=document.querySelector(".contact-form"),map_popap=document.querySelector(".map"),map_link=document.querySelector(".map-link"),contact_link=document.querySelector(".contact-link"),sending_form=contact_popap.querySelector(".form-fields"),form_fields=sending_form.querySelectorAll(".form-field"),name_field=sending_form.querySelector("#name-field"),mail_field=sending_form.querySelector("#email-field"),message_field=sending_form.querySelector("#message-field");let isStorageSupport=!0,name_storage="",mail_storage="";try{name_storage=localStorage.getItem("name"),mail_storage=localStorage.getItem("mail")}catch(e){isStorageSupport=!1}contact_link.addEventListener("click",function(e){e.preventDefault(),closeModals(),contact_popap.classList.remove("hidden"),name_field.focus(),name_storage&&(name_field.value=name_storage,mail_field.focus()),mail_storage&&(mail_field.value=mail_storage,message_field.focus())}),map_link.addEventListener("click",function(e){e.preventDefault(),closeModals(),map_popap.classList.remove("hidden")});const closeModals=()=>{for(let e of modal_windows)e.classList.add("hidden"),e.classList.remove("modal-error")};for(let e of close_buttons)e.addEventListener("click",closeModals);window.addEventListener("keydown",function(e){27===e.keyCode&&(contact_popap.classList.contains("hidden")&&map_popap.classList.contains("hidden")||(e.preventDefault(),closeModals()))}),sending_form.addEventListener("submit",function(e){if(name_field.value&&mail_field.value&&message_field.value)isStorageSupport&&(localStorage.setItem("name",name_field.value),localStorage.setItem("mail",mail_field.value));else{e.preventDefault(),contact_popap.classList.remove("modal-error"),contact_popap.offsetWidth=contact_popap.offsetWidth,contact_popap.classList.add("modal-error");for(let e of form_fields)e.value||e.classList.add("invalid")}});for(let e of form_fields)e.addEventListener("input",function(){e.value?e.classList.remove("invalid"):e.classList.add("invalid")});